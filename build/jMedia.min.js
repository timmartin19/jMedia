/*! jMedia 2015-01-26 */
function Player(a){a=a[1],this.types=[],this.ieAttrs=[],this.name=null,this.isMSIE=/MSIE/.test(navigator.userAgent),this.isOldIE=this.isMSIE&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||mode<9);var b=Media.defaults.extensions[a];for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])}var Media;Media={convertToMedia:function(a,b,c,d){var e,f;return a.each(function(){var a=$(this);b=b||{},e=Media["private"].getSettings(this,b),c&&c(this,e),e.type||(e.type=Media["private"].getExtensionType(e.src.toLowerCase())),f=Media["private"].generateHTMLPlayerElement(this,e,e.type),a.replaceWith(f),d&&d(this,f,e,e.type)})},undo:function(a){return a.each(function(){var a=this,b=a.data("media.origHTML");b?a.replaceWith(b):console.info("No original HTML was found on a media object.")})}},$.fn.media=function(a,b,c){"undo"===a?Media.undo(this):Media.convertToMedia(this,a,b,c)},$.fn.media.mapFormat=function(a,b){Media.defaults.extensions[a]=b},Media.defaults={standards:!0,canUndo:!0,width:400,height:400,autoplay:0,bgColor:"#FFFFFF",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}},Media.defaults.players={flash:{name:"flash",title:"Flash",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+Media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",mimetype:"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image"},iframe:{name:"iframe"},silverlight:{name:"silverlight"}},Media.defaults.extensions={flv:Media.defaults.players.flash,mp3:Media.defaults.players.flash,swf:Media.defaults.players.flash,aif:Media.defaults.players.quicktime,aiff:Media.defaults.players.quicktime,aac:Media.defaults.players.quicktime,au:Media.defaults.players.quicktime,bmp:Media.defaults.players.quicktime,gsm:Media.defaults.players.quicktime,mov:Media.defaults.players.quicktime,mid:Media.defaults.players.quicktime,midi:Media.defaults.players.quicktime,mpg:Media.defaults.players.quicktime,mpeg:Media.defaults.players.quicktime,mp4:Media.defaults.players.quicktime,m4a:Media.defaults.players.quicktime,psd:Media.defaults.players.quicktime,qt:Media.defaults.players.quicktime,qtif:Media.defaults.players.quicktime,qif:Media.defaults.players.quicktime,qti:Media.defaults.players.quicktime,snd:Media.defaults.players.quicktime,tif:Media.defaults.players.quicktime,tiff:Media.defaults.players.quicktime,wav:Media.defaults.players.quicktime,"3g2":Media.defaults.players.quicktime,"3gp":Media.defaults.players.quicktime,ra:Media.defaults.players.realplayer,ram:Media.defaults.players.realplayer,rm:Media.defaults.players.realplayer,rpm:Media.defaults.players.realplayer,rv:Media.defaults.players.realplayer,smi:Media.defaults.players.realplayer,smil:Media.defaults.players.realplayer,html:Media.defaults.players.iframe,pdf:Media.defaults.players.iframe,gif:Media.defaults.players.img,png:Media.defaults.players.img,jpg:Media.defaults.players.img,silverlight:Media.defaults.players.silverlight,asx:Media.defaults.players.winmedia,asf:Media.defaults.players.winmedia,avi:Media.defaults.players.winmedia,wma:Media.defaults.players.winmedia,wmv:Media.defaults.players.winmedia},Player.prototype.generate=function(a,b){var c=this.generateHTML(b),d=$("<div></div>");return d.append(c),a.id&&d.attr("id",a.id),a["class"]&&d.attr("class",a["class"]),b.caption&&$("<div>").appendTo(d).html(b.caption),d},Player.prototype.generateHTML=function(a){var b;return"iframe"===this.name?(b=$('<iframe width="'+a.width+'" height="'+a.height+'" >'),b.attr("src",a.src)):this.isOldIE?(b=$("<object></object>"),b=this.setAttributesOnElement(b,a.attrs),this.ieAttrs&&this.setAttributesOnElement(b,this.ieAttrs),b=this.setParameterTags(b,a)):a.standards?(b=$("<object></object>"),b.attr("type",this.mimetype),b=this.setHeightAndWidthTag(b,a),a.src&&b.attr("data",a.src),this.isMSIE&&(b=this.setAttributesOnElement(b,this.ieAttrs)),b=this.setParameterTags(b,a),b.append($("<div><p><strong>"+this.title+" Required</strong></p><p>"+this.title+' is required to view this media. <a href="'+this.pluginspage+'">Download Here</a>.</p></div>'))):(b=$("<embed></embed>"),b=this.setHeightAndWidthTag(b,a),a.src&&b.attr("src",a.src),b=this.setAttributesOnElement(b,a.attrs),b=this.setAttributesOnElement(b,this.eAttrs),b=this.setAttributesOnElement(b,a.params)),b},Player.prototype.setHeightAndWidthTag=function(a,b){return a.attr("width",b.width).attr("height",b.height)},Player.prototype.setAttributesOnElement=function(a,b){for(var c in b)b.hasOwnProperty(c)&&a.attr(c,b[c]);return a},Player.prototype.setParameterTags=function(a,b){var c=[],d=$("<parameter/>");d.attr("name",this.oUrl||"src").attr("value",b.src),c.push(d);for(key in b.params)b.params.hasOwnProperty(key)&&(d=$("<parameter/>"),d.attr("name",key).attr("value",b.params[key]),c.push(d));for(var e=0;e<c.length;e++)a.append(c[e]);return a},Media["private"]={generateHTMLPlayerElement:function(a,b,c){var d=new Player(c);return d.generate(a,b)},getPlayerForType:function(a){for(var b in Media.defaults.players)if(Media.defaults.players.hasOwnProperty(b)&&$.inArray(a,Media.defaults.players[b].types))return Media.defaults.players[b];throw"A player for extension type "+a+" was not found"},getSettings:function(a,b){var c,d,e,f;if(f=$(a),b=b||{},d=Media["private"].getMetaSettings(a),c=Media.defaults,e=$.extend(c,d,b),e.caption=f.text(),void 0===e.src&&(e.src=f.attr("href")||f.attr("src")),void 0===e.src)throw"No source was defined on the element. Either href or src needs to be set on the element.";return e.params||(e.params={}),e},getMetaSettings:function(a){var b,c,d,e="data-",f=$(a);$.metadata?b=f.metadata():$.meta&&(b=f.data()),b||(b={}),b.elementClass=a.className||"",b.width||(b.width=parseInt((b.elementClass.match(/\bw:(\d+)/)||[])[1]||0,10)||parseInt((b.elementClass.match(/\bwidth:(\d+)/)||[])[1]||0,10)),b.height||(b.height=parseInt((b.elementClass.match(/\bh:(\d+)/)||[])[1]||0,10)||parseInt((b.elementClass.match(/\bheight:(\d+)/)||[])[1]||0,10));for(var g=0;g<a.attributes.length;g++)c=a.attributes[g],d=$.trim(c),d.slice(0,e.length)==e&&(b[d]=c.value);return b},getExtensionType:function(a){var b,c;for(var d in Media.defaults.extensions)if(Media.defaults.extensions.hasOwnProperty(d)&&(b=new RegExp("\\.("+d+")\\b"),c=b.exec(a)))return c;throw"No usable extension was found on the url: "+a}};